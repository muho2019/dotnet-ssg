@using DotnetSsg.Models
@namespace DotnetSsg.Components.Pages

<MainLayout PageTitle="Home" SiteTitle="@SiteTitle" Description="@SiteDescription" 
             CanonicalUrl="@BaseUrl" RssFeedUrl="@RssFeedUrl"
             BaseUrl="@BaseUrl" Language="@Language">
    <div class="max-w-notion mx-auto px-4 py-12 sm:px-6 lg:px-8">
        <!-- Hero Section -->
        <section class="mb-16 text-center">
            <h1 class="text-notion-title text-4xl sm:text-5xl md:text-6xl font-bold text-notion-text dark:text-notion-text-dark mb-4">
                @SiteTitle
            </h1>
            <p class="text-lg text-notion-gray dark:text-gray-400 max-w-2xl mx-auto">
                @SiteDescription
            </p>
        </section>
        
        <!-- Featured Section (latest post) -->
        @if (FeaturedPost != null)
        {
            <section class="mb-16">
                <h2 class="text-2xl font-semibold text-notion-text dark:text-notion-text-dark mb-6">Latest Post</h2>
                <article class="group border-l-4 border-notion-blue dark:border-blue-400 bg-notion-gray-light dark:bg-notion-gray-dark rounded-r-lg p-6 hover:shadow-lg transition-all duration-300">
                    <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4">
                        <div>
                            <time datetime="@FeaturedPost.Date.ToString("yyyy-MM-dd")" class="text-sm text-notion-blue dark:text-blue-400 font-medium">
                                @FeaturedPost.Date.ToString("MMMM dd, yyyy")
                            </time>
                            <h3 class="text-2xl font-semibold text-notion-text dark:text-notion-text-dark mt-2 mb-3 group-hover:text-notion-blue dark:group-hover:text-blue-400 transition-colors">
                                <a href="@(BaseUrl.TrimEnd('/') + FeaturedPost.Url)" class="hover:underline">@FeaturedPost.Title</a>
                            </h3>
                            @if (!string.IsNullOrEmpty(FeaturedPost.Description))
                            {
                                <p class="text-notion-gray dark:text-gray-400 line-clamp-3">
                                    @FeaturedPost.Description
                                </p>
                            }
                        </div>
                        <a href="@(BaseUrl.TrimEnd('/') + FeaturedPost.Url)" 
                           class="inline-flex items-center space-x-2 text-notion-blue dark:text-blue-400 font-medium whitespace-nowrap group-hover:translate-x-2 transition-transform">
                            <span>Read</span>
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </a>
                    </div>
                </article>
            </section>
        }
        
        <!-- Posts Grid -->
        <section>
            <h2 class="text-2xl font-semibold text-notion-text dark:text-notion-text-dark mb-6">All Posts</h2>
            
            @if (Posts != null && Posts.Count > 0)
            {
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    @foreach (var post in Posts)
                    {
                        <PostCard Post="@post" Url="@(BaseUrl.TrimEnd('/') + post.Url)" />
                    }
                </div>
            }
            else
            {
                <div class="text-center py-12">
                    <svg class="w-16 h-16 mx-auto text-notion-gray-light dark:text-notion-gray-dark mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m0 0h6"></path>
                    </svg>
                    <p class="text-notion-gray dark:text-gray-400">No posts yet.</p>
                </div>
            }
        </section>
    </div>
</MainLayout>

@code {
    [Parameter]
    public List<Post> Posts { get; set; } = new();
    
    [Parameter]
    public Post? FeaturedPost { get; set; }
    
    [Parameter]
    public string SiteTitle { get; set; } = "My Site";
    
    [Parameter]
    public string SiteDescription { get; set; } = "Welcome to my blog";
    
    [Parameter]
    public string BaseUrl { get; set; } = "/";
    
    [Parameter]
    public string? RssFeedUrl { get; set; }
    
    [Parameter]
    public string Language { get; set; } = "ko";
}
